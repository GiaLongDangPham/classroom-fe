<form [formGroup]="postForm" (ngSubmit)="onSubmit()" class="bg-white p-4 rounded-xl shadow space-y-4">
  <div class="flex items-start gap-3">
    
    <!-- Avatar người dùng -->
    <app-avatar [user]="user" [width]="'w-10'" [height]="'h-10'" [isAllowUpload]="false"></app-avatar>

    <div class="flex-1 space-y-3">
      <input
        type="text"
        formControlName="title"
        placeholder="Tiêu đề bài viết..."
        class="w-full px-4 py-2 border border-gray-300 rounded-lg"
      />
      <textarea
        formControlName="content"
        rows="4"
        placeholder="Nội dung bạn muốn chia sẻ..."
        class="w-full px-4 py-2 border border-gray-300 rounded-lg resize-none"
      ></textarea>

      <!-- Upload ảnh -->
      <input type="file" (change)="onFileSelected($event)" accept="image/*" class="block text-sm text-gray-600" />

      <!-- Preview ảnh -->
      <div *ngIf="previewUrl" class="mt-2">
        <img [src]="previewUrl" alt="preview" class="max-h-64 object-cover rounded-xl border" />
      </div>

      <button
        type="submit"
        [disabled]="postForm.invalid || isUploading"
        class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition w-full"
      >
        {{ isUploading ? 'Đang tải ảnh...' : 'Đăng bài' }}
      </button>
    </div>
  </div>
</form>
