<div class="bg-white rounded-xl shadow p-5 space-y-4 mb-10">
  <div class="flex items-center gap-3">
    <img [src]="post.avatarUrl || defaultAvatar" alt="avatar" class="w-10 h-10 rounded-full border-2 border-blue-500 object-cover" />
    <div>
      <p class="font-semibold text-gray-800">{{ post.createdBy }}</p>
      <p class="text-sm text-gray-500">{{ post.createdAt | timeAgo }}</p>
    </div>
  </div>

  <div>
    <h4 class="text-xl font-semibold text-gray-900 mb-1">{{ post.title }}</h4>
    <p class="text-gray-800 whitespace-pre-line">{{ post.content }}</p>
  </div>

  <div *ngIf="post.imageUrl" class="mt-3">
    <img [src]="post.imageUrl" alt="post image" class="w-full rounded-xl max-h-[400px] object-cover border" />
  </div>

  <!-- Tương tác -->
  <div class="flex items-center justify-around text-gray-600 border-t pt-3">
    <button class="flex items-center gap-1 hover:text-red-500 transition" (click)="onLike()">
      <i class="fa" [ngClass]="isLiked ? 'fa-solid fa-heart text-red-500' : 'fa-regular fa-heart'"></i>
      <span>{{ likeCount }} {{ 'POST.LIKE' | translate }}</span>
    </button>

    <button class="flex items-center gap-1 hover:text-blue-500 transition" (click)="toggleComment()">
      <i class="fa-regular fa-comment"></i>
      <span>{{ commentCount }} {{ 'POST.COMMENT' | translate }}</span>
    </button>

    <button class="flex items-center gap-1 hover:text-green-500 transition" (click)="onShare(post)">
      <i class="fa-solid fa-share"></i>
      <span>{{ 'POST.SHARE' | translate }}</span>
    </button>
  </div>


  <app-comment-button 
    [postId]="post.id!" 
    [userId]="user.id!" 
    [isShowComments]="isShowComments"
    [commentCount]="commentCount"
  ></app-comment-button>

</div>